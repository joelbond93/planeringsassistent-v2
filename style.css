/* =========================
   RESET & ROOT
========================= */

* {
  box-sizing: border-box;
}

:root {
  --chat-bottom-height: 170px;
}

/* =========================
   BODY
========================= */

body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: radial-gradient(circle at top, #1a1a1a, #0e0f13);
  color: white;
  min-height: 100vh;
  overflow: hidden;

  /* default accent */
  --accent: #2563eb;
}

/* =========================
   HEADER
========================= */

#header {
  position: sticky;
  top: 0;
  z-index: 10;

  background:
    linear-gradient(
      180deg,
      rgba(14,15,19,0.96),
      rgba(14,15,19,0.92)
    );

  padding: 14px 12px 16px;
  border-bottom: 1px solid rgba(255,255,255,0.08);

  transition:
    background 0.25s ease,
    box-shadow 0.25s ease,
    border-color 0.25s ease;
}

body.theme-travel #header,
body.theme-food #header,
body.theme-activities #header,
body.theme-projects #header {
  background:
    linear-gradient(
      180deg,
      color-mix(in srgb, var(--accent) 18%, rgba(14,15,19,0.96)),
      rgba(14,15,19,0.92)
    );

  border-bottom-color: color-mix(
    in srgb,
    var(--accent) 40%,
    rgba(255,255,255,0.12)
  );

  box-shadow:
    0 6px 20px color-mix(in srgb, var(--accent) 30%, transparent);
}

h1 {
  text-align: center;
  margin: 6px 0;
}

#active-theme {
  text-align: center;
  margin-bottom: 8px;
}

/* =========================
   THEME BUTTONS
========================= */

#theme-selector {
  margin-top: 20px;
  margin-bottom: 32px;

  display: flex;
  justify-content: center;
  gap: 10px;
  flex-wrap: wrap;
}

.theme-buttons button {
  padding: 10px 18px;
  font-size: 14px;
  font-weight: 500;

  border-radius: 999px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.18);
  color: white;

  cursor: pointer;

  transition:
    background 0.15s ease,
    border-color 0.15s ease,
    box-shadow 0.15s ease,
    transform 0.12s ease;
}

.theme-buttons button:hover {
  transform: translateY(-1px);
}

/* ACTIVE (valt tema) */

body.theme-travel .theme-buttons button.active {
  background: rgba(76,201,240,0.35);
  border-color: rgba(76,201,240,0.9);
  box-shadow: 0 8px 22px rgba(76,201,240,0.45);
}

body.theme-food .theme-buttons button.active {
  background: rgba(244,162,97,0.35);
  border-color: rgba(244,162,97,0.9);
  box-shadow: 0 8px 22px rgba(244,162,97,0.45);
}

body.theme-activities .theme-buttons button.active {
  background: rgba(167,243,208,0.35);
  border-color: rgba(167,243,208,0.9);
  box-shadow: 0 8px 22px rgba(167,243,208,0.45);
}

body.theme-projects .theme-buttons button.active {
  background: rgba(196,181,253,0.35);
  border-color: rgba(196,181,253,0.9);
  box-shadow: 0 8px 22px rgba(196,181,253,0.45);
}

/* HOVER â€“ per knapp (egen fÃ¤rg) */

.theme-buttons button[data-theme="travel"]:hover {
  background: rgba(76,201,240,0.25);
  border-color: rgba(76,201,240,0.7);
}

.theme-buttons button[data-theme="food"]:hover {
  background: rgba(244,162,97,0.28);
  border-color: rgba(244,162,97,0.7);
}

.theme-buttons button[data-theme="activities"]:hover {
  background: rgba(167,243,208,0.28);
  border-color: rgba(167,243,208,0.7);
}

.theme-buttons button[data-theme="projects"]:hover {
  background: rgba(196,181,253,0.28);
  border-color: rgba(196,181,253,0.7);
}

/* =========================
   START SCREEN
========================= */

#start-screen {
  padding: 40px 16px;
  text-align: center;
}

.start-cards {
  display: flex;
  gap: 28px;
  justify-content: center;
  flex-wrap: wrap;
}

.start-cards button {
  width: 300px;
  height: 160px;
  padding: 22px;

  border-radius: 22px;
  cursor: pointer;

  background: linear-gradient(
    180deg,
    rgba(255,255,255,0.08),
    rgba(255,255,255,0.03)
  );
  border: 1px solid rgba(255,255,255,0.14);
  color: white;

  box-shadow:
    0 20px 40px rgba(0,0,0,0.45),
    inset 0 1px 0 rgba(255,255,255,0.06);

  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.start-cards button:hover {
  transform: translateY(-6px);
}

/* START INPUT */

.start-input {
  margin: 40px auto 0;
  display: flex;
  gap: 12px;
  justify-content: center;

  width: 100%;
  max-width: 720px;
  padding: 0 16px;
}

.start-input input {
  flex: 1;
  background: #16181d;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.16);
  padding: 10px 14px;
  color: white;
  font-size: 14px;
}

.start-input button {
  background: linear-gradient(145deg, var(--accent), #1e40af);
  border-radius: 14px;
  padding: 10px 18px;
  border: none;
  color: white;
  cursor: pointer;
}

/* =========================
   CHAT LAYOUT
========================= */

#chat-container {
  height: 100vh;
  display: flex;
  flex-direction: column;
  padding-bottom: env(safe-area-inset-bottom);
}

#messages {
  flex: 1;
  overflow-y: auto;

  padding: 24px 16px;
  padding-bottom: calc(var(--chat-bottom-height) + 24px);

  display: flex;
  flex-direction: column;
}

/* =========================
   CHAT BUBBLES
========================= */

.message {
  max-width: 70%;
  padding: 12px 14px;
  margin-bottom: 12px;

  line-height: 1.65;
  font-size: 15.5px;

  word-wrap: break-word;
  white-space: pre-wrap;
}

/* USER â€“ HÃ–GER */
.message.user {
  align-self: flex-end;
  background: linear-gradient(145deg, var(--accent), #1e40af);
  color: white;
  border-radius: 16px 16px 6px 16px;
}

/* ASSISTANT â€“ VÃ„NSTER */
.message.assistant {
  align-self: flex-start;
  background: rgba(255,255,255,0.08);
  border-radius: 16px 16px 16px 6px;
}

/* THINKING */
.message.thinking {
  opacity: 0.6;
  font-style: italic;
}

/* =========================
   CHAT BOTTOM (STICKY)
========================= */

#bottom-area {
  position: sticky;
  bottom: 0;
  height: var(--chat-bottom-height);
  padding-bottom: calc(12px + env(safe-area-inset-bottom));

  background: linear-gradient(
    180deg,
    rgba(14,15,19,0.85),
    rgba(14,15,19,0.95)
  );

  border-top: 1px solid rgba(255,255,255,0.12);
  backdrop-filter: blur(10px);
}

/* AI BUTTONS */

#buttons {
  min-height: 72px;
  display: flex;
  gap: 12px;
  justify-content: center;
  align-items: center;
  flex-wrap: wrap;
}

#buttons button {
  padding: 12px 18px;
  min-height: 44px;
  border-radius: 16px;

  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.18);
  color: white;
  cursor: pointer;
}

/* INPUT AREA */

#input-area {
  display: flex;
  gap: 10px;
}

#input-area input {
  flex: 1;
  background: rgba(22,24,29,0.9);
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,0.16);
  padding: 10px 14px;
  color: white;
}

#input-area button:first-of-type {
  background: linear-gradient(145deg, var(--accent), #1e40af);
  border-radius: 14px;
  padding: 10px 16px;
  border: none;
  color: white;
}

#input-area button:last-of-type {
  background: rgba(255,255,255,0.06);
  border-radius: 14px;
  padding: 10px 14px;
  border: 1px solid rgba(255,255,255,0.14);
  color: #f1f1f1;
}

/* =========================
   THEME ACCENTS
========================= */

body.theme-food       { --accent: #f4a261; }
body.theme-travel     { --accent: #4cc9f0; }
body.theme-activities { --accent: #34d399; }
body.theme-projects   { --accent: #a78bfa; }

/* =========================
   MOBILE
========================= */

/* =========================
   MOBILE â€“ FINAL POLISH
========================= */

@media (max-width: 700px) {

  /* ===== HEADER ===== */

  #header {
    padding: 10px 12px 12px;
  }

  h1 {
    font-size: 18px;
    margin: 4px 0 6px;
  }

  #active-theme {
    font-size: 13px;
  }

  #theme-selector {
    gap: 8px;
    margin-top: 16px;
    margin-bottom: 24px;
  }

  .theme-buttons button {
    padding: 8px 14px;
    font-size: 13px;
  }

  /* ===== START SCREEN ===== */

  #start-screen {
    padding: 24px 12px;
  }

  .start-cards {
    flex-direction: column;
    gap: 16px;
  }

  .start-cards button {
    width: 100%;
    height: auto;
    padding: 18px;
    border-radius: 18px;
  }

  .start-cards strong {
    font-size: 15px;
  }

  .start-cards span {
    font-size: 13px;
  }

  .start-or {
    margin: 12px 0 4px;
    font-size: 13px;
  }

  .start-input {
    margin-top: 24px;
    padding: 0;
  }

  .start-input input,
  .start-input button {
    width: 100%;
  }

  .start-input {
    flex-direction: column;
    gap: 10px;
  }

  /* ===== CHAT ===== */

  #chat-container {
    height: 100dvh; /* viktigt fÃ¶r mobil */
  }

  #messages {
    padding-left: 12px;
    padding-right: 12px;
    padding-top: 16px;

    /* ðŸ‘‡ sÃ¥ sista bubblan aldrig hamnar bakom input */
      padding-bottom: calc(var(--chat-bottom-height) + 64px);
  }
  .chat-spacer {
  height: 48px; /* justera till 32 / 48 / 64 efter smak */
  flex-shrink: 0;
}

  #messages::after {
  content: "";
  display: block;

  /* ðŸ‘‡ extra visuell luft ovanfÃ¶r bottom chat */
  height: 28px;
}
.message {
  margin-bottom: 12px;
}

.message:last-child {
  margin-bottom: 0; /* ðŸ‘ˆ vi lÃ¥ter ::after stÃ¥ fÃ¶r luften */
}

  /* ===== CHAT BUBBLES ===== */

  .message {
    max-width: 92%;
    font-size: 16px;
    line-height: 1.7;
    padding: 12px 14px;
  }

  .message.user {
    margin-left: auto;
    margin-right: 0;
  }

  .message.assistant {
    margin-right: auto;
    margin-left: 0;
  }

  /* ===== BOTTOM BAR ===== */

  #bottom-area {
    padding: 10px 12px 12px;
  }

  #buttons {
    flex-direction: column;
    gap: 10px;
    min-height: 80px; /* behÃ¥ller hÃ¶jd Ã¤ven utan knappar */
  }

  #buttons button {
    width: 100%;
    font-size: 14px;
    padding: 14px 16px;
    border-radius: 16px;
  }

  #input-area {
    flex-direction: column;
    gap: 10px;
  }

  #input-area input {
    font-size: 16px; /* ðŸ‘ˆ viktigt fÃ¶r iOS zoom-bug */
    padding: 12px 14px;
  }

  #input-area button {
    width: 100%;
    padding: 12px 16px;
    font-size: 15px;
  }
}
